---
界: DataBase
门: 
纲: 
创建日期: 2021-09-07
---

悲观锁：在数据处理过程，将数据处于锁定状态，一般使用数据库的锁机制实现。（行锁、表锁、读锁、写锁、共享锁、排他锁）

-   表锁
    -   lock table 表名称 read|write,表名称2 read|write;//增加表锁
    -   unlock tables;//删除表锁
-   共享锁（行锁-读锁）
    select ... lock in share mode
-   排他锁（行锁-写锁）
    SQL末尾加上for update

乐观锁：对数据进行校验和比较，来保证本次更新是最新的，否则就失败

**注意：排他锁（写锁）使用不当（没有使用索引）可能会导致整张表被锁住，尽可能使用乐观锁。**

