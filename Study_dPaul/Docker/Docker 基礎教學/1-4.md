---
Date: 2021-10-22
aliases: []
---

# Metadata

**Title** :: Docker 镜像

**Author** :: #dPaulLai

**Classification** :: #Learn #Docker #Basic

**Status** :: #🌞 

**Type** :: #Note

**Previous** :: [[1-3]]

**ParentNode** :: [[Docker 基礎教學]]

---
# Docker 镜像

## Docker Hub

[Docker Hub](https://hub.docker.com/)

类似一个`maven`的远程仓库 , 存储 公共的 Docker Image

## Image 的定义

镜像是由很多层组成,然后将不同的层叠加之后,从外部开来就如同一个独立的对象

镜像内部其实是一个精简的操作系统(OS),同时还包含应用运行所必要的文件及依赖.

然后镜像通常而言会非常小

镜像可以理解为是一种构建时 ( build-time ) 的结构

是一种静止的状态

## Image 常用命令

### Pull 拉取

下载镜像的命令

镜像一般都是从远程镜像仓库服务的仓库进行下载.默认情况下会从 Docker Hub 的仓库进行下载

在下载过程中,可以看到一个镜像一般是由多个层进行组成的,
类似`f7e2b70d04ae`的串表示层的唯一 ID

    1. 在不同镜像中用到相同的ID的层将会继续使用本地的层
    2. 在使用Pull命令的时候,docker会自动加上仓库地址的前缀
    3. 完整的ID包括了256个bit,64个十六进制字符组成

EX:

```bash
// docker.io是我配置的默认仓库地址
$ docker pull tomcat:9.0.20-jre8
// 等同于
$ docker pull docker.io/tomcat:9.0.20-jre8
```

#### 常用参数

- ` -a, --all-tags=true|false` : 是否获取仓库中所有镜像，默认为否；
- `--disable-content-trust` : 跳过镜像内容的校验，默认为 true;

### Images 查看镜像

可以通过该镜像可以列出本地已有的镜像

```bash
$ docker images
$ docker image ls
```

#### 选项说明

| 选项       | 说明         |
| ---------- | ------------ |
| Repository | 镜像的仓库源 |
| Tag        | 镜像标签     |
| Images ID  | 镜像 ID      |
| Created    | 镜像创建时间 |
| Size       | 镜像大小     |

### Save 保存

通过 Save 指令将镜像保存到本地

#### 常用参数

- `-o`:输出到的文件

#### 保存一个镜像

```bash
$ docker save tomcat:9.0.20-jre8-alpine -o tomcat9.tar
$ docker save tomcat:9.0.20-jre8-slim > tomcat9.slim.tar
```

#### 保存多个镜像

    推荐开发岗的小伙伴梦可以使用idea开发工具中的列编辑模式制作docker save命令

```bash
$ docker save \
	ubuntu:20.04 \
	alpine:3.12.1 \
	debian:10.6-slim \
	centos:7.8.2003 \
	-o linux.tar

$ docker save \
	tomcat:9.0.20-jre8-alpine \
	tomcat:9.0.20-jre8-slim \
	tomcat:9.0.20-jre8 \
	-o tomcat9.0.20.tar
```

### Load 汇入

```bash
$ docker load -i linux.tar
$ docker load < tomcat9.0.20.tar
```

#### 常用参数

- `--input , -i` : 指定导入的文件
- `-quiet , -q` : 精简输出信息

### Search 搜索
