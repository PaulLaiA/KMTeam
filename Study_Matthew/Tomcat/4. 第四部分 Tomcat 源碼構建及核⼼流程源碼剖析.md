---
date: 2021-11-24
aliases: []
---

# Metadata

**Title** :: Tomcat

**Author** :: #Matthew 

**Classification** :: #Learn #Java #Basic #Tomcat

**Status** :: #ğŸŒ±

**Type** :: #Note

**Previous** ::

**ParentNode** :: [[Study_Matthew/Tomcat/Tomcat|Tomcat]]

---


# ç¬¬å››éƒ¨åˆ† Tomcat æºç¢¼æ§‹å»ºåŠæ ¸â¼¼æµç¨‹æºç¢¼å‰–æ
## ç¬¬ 1 ç¯€ æºç¢¼æ§‹å»º
### 1.1 ä¸‹è¼‰æºç¢¼
![[Study_Matthew/Tomcat/_annex/Pasted image 20211124152814.png]]

### 1.2 æºç¢¼å°â¼ŠIDEä¹‹å‰æº–å‚™â¼¯ä½œ

- è§£å£“ tar.gz å£“ç¸®åŒ…ï¼Œå¾—åˆ°â½¬éŒ„ apache-tomcat-8.5.50-src
- é€²â¼Š apache-tomcat-8.5.50-src â½¬éŒ„ï¼Œå‰µå»ºâ¼€å€‹pom.xmlâ½‚ä»¶ï¼Œâ½‚ä»¶å…§å®¹å¦‚ä¸‹
	```xml
	<?xml version="1.0" encoding="UTF-8"?>
	<project xmlns="http://maven.apache.org/POM/4.0.0"
	 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	 xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
	http://maven.apache.org/xsd/maven-4.0.0.xsd">
	 <modelVersion>4.0.0</modelVersion>
	 <groupId>org.apache.tomcat</groupId>
	 <artifactId>apache-tomcat-8.5.50-src</artifactId>
	 <name>Tomcat8.5</name>
	 <version>8.5</version>
	 <build>
	 <!--æŒ‡å®šæºâ½¬å½•-->
	 <finalName>Tomcat8.5</finalName>
	 <sourceDirectory>java</sourceDirectory>
	 <resources>
	 <resource>
	 <directory>java</directory>
	 </resource>
	 </resources>
	 <plugins>
	 <!--å¼•â¼Šç¼–è¯‘æ’ä»¶-->
	 <plugin>
	 <groupId>org.apache.maven.plugins</groupId>
	 <artifactId>maven-compiler-plugin</artifactId>
	 <version>3.1</version>
	 <configuration>
	 <encoding>UTF-8</encoding>
	 <source>11</source>
	 <target>11</target>
	 </configuration>
	 </plugin>
	 </plugins>
	 </build>
	 <!--tomcat ä¾èµ–çš„åŸºç¡€åŒ…-->
	 <dependencies>
	 <dependency>
	 <groupId>org.easymock</groupId>
	 <artifactId>easymock</artifactId>
	 <version>3.4</version>
	 </dependency>
	 <dependency>
	 <groupId>ant</groupId>
	 <artifactId>ant</artifactId>
	 <version>1.7.0</version>
	 </dependency>
	 <dependency>
	 <groupId>wsdl4j</groupId>
	 <artifactId>wsdl4j</artifactId>
	 <version>1.6.2</version>
	 </dependency>
	 <dependency>
	 <groupId>javax.xml</groupId>
	 <artifactId>jaxrpc</artifactId>
	 <version>1.1</version>
	 </dependency>
	 <dependency>
	 <groupId>org.eclipse.jdt.core.compiler</groupId>
	 <artifactId>ecj</artifactId>
	 <version>4.5.1</version>
	 </dependency>
	 <dependency>
	 <groupId>javax.xml.soap</groupId>
	 <artifactId>javax.xml.soap-api</artifactId>
	 <version>1.4.0</version>
	 </dependency>
	 </dependencies>
	</project>
	```

- åœ¨ apache-tomcat-8.5.50-src â½¬éŒ„ä¸­å‰µå»º source â½‚ä»¶å¤¾
- å°‡ confã€webapps â½¬éŒ„ç§»å‹•åˆ°å‰›å‰›å‰µå»ºçš„ source â½‚ä»¶å¤¾ä¸­


### 1.3 å°â¼Šæºç¢¼â¼¯ç¨‹åˆ°IDEä¸¦é€²â¾é…ç½®

- å°‡æºç¢¼â¼¯ç¨‹å°â¼Šåˆ° IDEA ä¸­
- çµ¦ tomcat çš„æºç¢¼ç¨‹åºå•Ÿå‹•é¡ Bootstrap é…ç½® VM åƒæ•¸ï¼Œå› ç‚º tomcat æºç¢¼é‹â¾ä¹Ÿéœ€è¦åŠ è¼‰é…ç½®â½‚ä»¶ç­‰ã€‚
	```txt
	-Dcatalina.home=/Users/yingdian/workspace/servers/apache-tomcat-8.5.50-src/source
	-Dcatalina.base=/Users/yingdian/workspace/servers/apache-tomcat-8.5.50-src/source
	-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
	-Djava.util.logging.config.file=/Users/yingdian/workspace/servers/apachetomcat-8.5.50-src/source/conf/logging.properties
	```
![[Study_Matthew/Tomcat/_annex/Pasted image 20211124153204.png]]

- é‹â¾ Bootstrap é¡çš„ main å‡½æ•¸ï¼Œæ­¤æ™‚å°±å•Ÿå‹•äº†tomcatï¼Œå•Ÿå‹•æ™‚å€™æœƒå»åŠ è¼‰æ‰€é…ç½®çš„ conf â½¬éŒ„ä¸‹çš„server.xmlç­‰é…ç½®â½‚ä»¶ï¼Œæ‰€ä»¥è¨ªå•8080ç«¯â¼å³å¯ï¼Œä½†æ­¤æ™‚æˆ‘å€‘æœƒé‡åˆ°å¦‚ä¸‹çš„â¼€å€‹éŒ¯èª¤
- 
![[Study_Matthew/Tomcat/_annex/Pasted image 20211124153235.png]]

åŸå› æ˜¯Jspå¼•æ“Jasperæ²’æœ‰è¢«åˆå§‹åŒ–ï¼Œå¾â½½â½†æ³•ç·¨è­¯JSPï¼Œæˆ‘å€‘éœ€è¦åœ¨tomcatçš„æºç¢¼ContextConfigé¡ä¸­çš„configureStartâ½…æ³•ä¸­å¢åŠ â¼€â¾ä»£ç¢¼å°‡ Jsp å¼•æ“åˆå§‹åŒ–ï¼Œå¦‚ä¸‹

![[Study_Matthew/Tomcat/_annex/Pasted image 20211124153301.png]]

- é‡å•Ÿ Tomcatï¼Œæ­£å¸¸è¨ªå•å³å¯ã€‚ â¾„æ­¤ï¼ŒTomcat æºç¢¼æ§‹å»ºå®Œç•¢ã€‚


## ç¬¬ 2 ç¯€ æ ¸â¼¼æµç¨‹æºç¢¼å‰–æ
Tomcatä¸­çš„å„å®¹å™¨çµ„ä»¶éƒ½æœƒæ¶‰åŠå‰µå»ºã€éŠ·æ¯€ç­‰ï¼Œå› æ­¤è¨­è¨ˆäº†â½£å‘½é€±æœŸæ¥â¼Lifecycleé€²â¾çµ±â¼€è¦ç¯„ï¼Œå„å®¹å™¨çµ„ä»¶å¯¦ç¾è©²æ¥â¼ã€‚

**Lifecycleâ½£å‘½é€±æœŸæ¥â¼ä¸»è¦â½…æ³•ç¤ºæ„**

![[Study_Matthew/Tomcat/_annex/Pasted image 20211124153352.png]]

**Lifecycleâ½£å‘½é€±æœŸæ¥â¼ç¹¼æ‰¿é«”ç³»ç¤ºæ„**

![[Study_Matthew/Tomcat/_annex/Pasted image 20211124153417.png]]

**æ ¸â¼¼æµç¨‹æºç¢¼å‰–æ**

æºç¢¼è¿½è¸ªéƒ¨åˆ†æˆ‘å€‘é—œæ³¨å…©å€‹æµç¨‹ï¼šTomcatå•Ÿå‹•æµç¨‹å’ŒTomcatè«‹æ±‚è™•ç†æµç¨‹

**Tomcatå•Ÿå‹•æµç¨‹**

![[Study_Matthew/Tomcat/_annex/Pasted image 20211124153451.png]]

**Tomcatè«‹æ±‚è™•ç†æµç¨‹**

- è«‹æ±‚è™•ç†æµç¨‹åˆ†æ
	
	![[Study_Matthew/Tomcat/_annex/Pasted image 20211124153541.png]]

- è«‹æ±‚è™•ç†æµç¨‹ç¤ºæ„åœ–
	
	![[Study_Matthew/Tomcat/_annex/Pasted image 20211124153645.png]]
	
- Mapperçµ„ä»¶é«”ç³»çµæ§‹
	
	![[Study_Matthew/Tomcat/_annex/Pasted image 20211124153713.png]]

















# å¾…è£œå®Œ





